{% extends "base.html" %}

{% block title %}Profile - Karaval Konkans{% endblock %}

{% block content %}

<div class="profile-page">
    <div class="profile-container">
        <h2>User Profile</h2>
        <form id="profileForm">
            <input type="hidden" id="userId" value="{{ session['user_id'] }}">

            <div class="form-group">
                <label>User ID:</label>
                <input type="text" id="userIdDisplay" value="{{ user_data['user_id'] }}" readonly>
            </div>

            <div class="form-group">
                <label>Name:</label>
                <input type="text" id="name" name="name" value="{{ user_data['name'] }}" required>
            </div>

            <div class="form-group">
                <label>Email:</label>
                <input type="email" id="email" name="email" value="{{ user_data['email'] }}" readonly>
            </div>

            <div class="form-group">
                <label>Phone:</label>
                <input type="tel" id="phone" name="phone" value="{{ user_data['phone'] }}" required>
            </div>

            <div class="form-group">
                <label>City:</label>
                <input type="text" id="city" name="city" value="{{ user_data['nearest_city'] }}" required>
            </div>

            <div class="form-group">
                <label for="family_details"><strong>Family Details:</strong></label>
                <textarea id="family_details" name="family_details" readonly>{{ user_data['details'] }}</textarea>
            </div>
            
            

            <!-- <div class="form-group">
                <label>Number of Children:</label>
                <input type="number" id="children" name="num_children" value="{{ user_data['num_children'] }}">
            </div> -->

            <div class="form-group">
                <label>Interests:</label>
                <input type="text" id="interests" name="interests" value="{{ user_data['interests'] }}">
            </div>

            <button type="submit">Update Profile</button>
        </form>

        <h3>Registered Events</h3>
        {% if user_events %}
            <ul id="eventList">
                {% for event in user_events %}
                    <li>{{ event['title'] }} - {{ event['date'] }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You have not registered for any events yet.</p>
        {% endif %}
        


        <a href="{{ url_for('home') }}" class="back-link">Back to Home</a>
    </div>
</div>
{% endblock %}
